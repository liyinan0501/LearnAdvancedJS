<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <style></style>
  </head>
  <body>
    <input type="button" value="click" />
    <script>
      // Arrow Function Usage

      // window.setInterval(() => {
      //   console.log(new Date().toLocaleString())
      // }, 1000)

      // ;[2, 3, 4, 5, 6].forEach((element) => {
      //   console.log(element)
      // })

      // 1. 箭头函数不存在预解析，必须先定义后调用
      let fn = () => {
        console.log('aaa') // aaa
      }
      fn()

      // 2. 箭头函数中，不存在arguments
      // let fn1 = () => {
      //   console.log(arguments) // arguments is not defined
      // }
      // fn1(1, 2, 3)

      let fn2 = (...a) => {
        console.log(a) //[1,2,3]
      }
      fn2(1, 2, 3)

      // 3. 箭头函数中，不存在this，箭头函数中的this指向的是上级作用域的this
      // 同理：箭头函数中的this指向箭头函数所在作用域的this
      // 如果涉及到this使用的时候，尽量不要使用箭头函数，因为箭头函数中this指向不明确。
      // 例如 点击事件处理函数

      let fn4 = () => {
        console.log(this) // window
      }
      fn4()

      let obj = {
        uname: 'jack',
        age: 22,
        fly: function () {
          // 因为以下箭头函数没有this，会指向上级作用域这里的this
          window.setInterval(() => {
            console.log(this) // {uname: 'jack', age: 22, fly: ƒ}
          }, 1000)
        },
      }
      obj.fly()

      let btn = document.querySelector('input')
      // btn.addEventListener('click', function () {
      //   this.style.color = 'red'
      // })
      btn.addEventListener('click', () => {
        this.style.color = 'red' // 给window加了，不好使。
      })

      // this 指向问题：
      // window.setInterval(function () {
      //   console.log(this) // window
      // }, 1000)

      // function fn3() {
      //   console.log(this) // window
      // }
      // fn3()

      // let obj = {
      //   uname: 'jack',
      //   age: 22,
      //   fly: function () {
      //     console.log(this) //{uname: 'jack', age: 22, fly: ƒ}
      //   },
      // }
      // obj.fly()
    </script>
  </body>
</html>
